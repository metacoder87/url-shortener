#!/usr/bin/env ruby
class CLI
    def get_email
        puts "Please enter your email"
        @email = gets.chomp.to_s
        get_email unless proper_email?
        register_user unless user_exists?
    end

    def proper_email?
        return true if @email.include?('@') && @email.include?('.')
        return false
    end

    def user_exists?
        @user = User.find_by(email: @email)
        return true if @user
        return false
    end

    def register_user
        @user = User.new(email: @email)
        @user.save!
    end
